{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/Documents/Web/reactjs/myshop/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/mac/Documents/Web/reactjs/myshop/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./../styles/Cart.css';import{connect}from'react-redux';import*as actions from'./../actions/index';var mapStateToProps=function mapStateToProps(state){return{cart:state.products.cart};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{deleteProduct:function deleteProduct(id){dispatch(actions.deleteProduct(id));}};};export default connect(mapStateToProps,mapDispatchToProps)(function Cart(_ref){var cart=_ref.cart,deleteProduct=_ref.deleteProduct;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartProduct=_useState2[0],setCartProduct=_useState2[1];useEffect(function(){cart.forEach(function(product){if(cartProduct.find(function(item){return item.cart===product;})===undefined){cartProduct.push({mount:1,isChoose:true,cart:product});}});cartProduct.forEach(function(item,index){if(cart.find(function(itemCart){return itemCart===item.cart;})===undefined){cartProduct.splice(index,1);}});setCartProduct(_toConsumableArray(cartProduct));},[cart]);var sumPrice=0;cartProduct.forEach(function(item){if(item.isChoose){sumPrice+=item.mount*item.cart.price;}});return/*#__PURE__*/React.createElement(\"div\",{className:\"item container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n:\"),cartProduct.length>0?cartProduct.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"item__product\",key:item.cart.id},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"choose__item\",checked:item.isChoose,onChange:function onChange(event){setCartProduct(cartProduct.map(function(product){if(product.cart.id===item.cart.id){product.isChoose=event.target.checked;return product;}else return product;}));}}),/*#__PURE__*/React.createElement(\"img\",{src:item.cart.src,alt:item.cart.name,className:\"img_item\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"info__item\"},/*#__PURE__*/React.createElement(\"h3\",null,item.cart.name),/*#__PURE__*/React.createElement(\"strong\",{className:\"price__item\"},item.cart.price,\"\\u20AB\")),/*#__PURE__*/React.createElement(\"div\",{className:\"number__item\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary add__item\",onClick:function onClick(){setCartProduct(cartProduct.map(function(product){if(product.cart.id===item.cart.id){if(product.mount>0)product.mount-=1;return product;}else return product;}));}},\"-\"),/*#__PURE__*/React.createElement(\"div\",{className:\"amount__item\"},item.mount),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary add__item\",onClick:function onClick(){setCartProduct(cartProduct.map(function(product){if(product.cart.id===item.cart.id){product.mount+=1;return product;}else return product;}));}},\"+\")),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash delete_item\",\"aria-hidden\":\"true\",onClick:function onClick(){deleteProduct(item.cart.id);}}));}):'',cartProduct.length===0?'Giỏ hàng của bạn đang trống':'',/*#__PURE__*/React.createElement(\"br\",null),cartProduct.length!==0?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"T\\u1ED5ng gi\\xE1:\"),/*#__PURE__*/React.createElement(\"strong\",{className:\"price__item\"},sumPrice,\"\\u20AB\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",name:\"\",id:\"\",className:\"btn btn-primary\"},\"Thanh to\\xE1n\")):'');});","map":{"version":3,"sources":["/Users/mac/Documents/Web/reactjs/myshop/src/components/Cart.js"],"names":["React","useState","useEffect","connect","actions","mapStateToProps","state","cart","products","mapDispatchToProps","dispatch","props","deleteProduct","id","Cart","cartProduct","setCartProduct","forEach","product","find","item","undefined","push","mount","isChoose","index","itemCart","splice","sumPrice","price","length","map","event","target","checked","src","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './../styles/Cart.css'\nimport {connect} from 'react-redux'\nimport * as actions from './../actions/index'\n\nconst mapStateToProps = (state) => {\n    return {\n        cart: state.products.cart,\n    };\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        deleteProduct: (id) => {\n            dispatch(actions.deleteProduct(id));\n        }\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)\n(function Cart({cart, deleteProduct}) {\n    const [cartProduct, setCartProduct] = useState([]);\n\n    useEffect(() => {\n        cart.forEach(product => {\n            if (cartProduct.find(item => item.cart === product) === undefined) {\n                cartProduct.push({\n                    mount: 1,\n                    isChoose: true,\n                    cart: product\n                })\n            }\n        })\n        cartProduct.forEach((item, index) => {\n            if (cart.find(itemCart => itemCart === item.cart) === undefined) {\n                cartProduct.splice(index,1);\n            }\n        })\n        setCartProduct([...cartProduct]);\n    }, [cart]);\n\n    let sumPrice = 0;\n    cartProduct.forEach(item => {\n        if (item.isChoose) {\n            sumPrice += item.mount * item.cart.price;\n        }\n    });\n\n\n    return (\n        <div className=\"item container\">\n            <h1>Giỏ hàng của bạn:</h1>\n            { cartProduct.length > 0 ?\n                cartProduct.map(item => \n                    <div className=\"item__product\" key = {item.cart.id}>\n                        <input type=\"checkbox\" className=\"choose__item\" checked={item.isChoose}\n                        onChange={(event) => {\n                            setCartProduct(cartProduct.map(product => {\n                                if (product.cart.id === item.cart.id) {\n                                    product.isChoose = event.target.checked;\n                                    return product;\n                                }\n                                else return product;\n                            }))\n                        }}\n                        />\n                        <img\n                            src={item.cart.src}\n                            alt={item.cart.name}\n                            className=\"img_item\"\n                        />\n                        <div className=\"info__item\">\n                            <h3>{item.cart.name}</h3>\n                            <strong className=\"price__item\">{item.cart.price}₫</strong>\n                        </div>\n                        <div className=\"number__item\">\n                            <button className=\"btn btn-secondary add__item\"\n                                onClick={() => {\n                                    setCartProduct(cartProduct.map(product => {\n                                        if (product.cart.id === item.cart.id) {\n                                            if (product.mount > 0)\n                                                product.mount -= 1;\n                                            return product;\n                                        }\n                                        else return product;\n                                    }))\n                                }}\n                            >-</button>\n                            <div className=\"amount__item\">{item.mount}</div>\n                            <button className=\"btn btn-secondary add__item\"\n                                onClick={() => {\n                                    setCartProduct(cartProduct.map(product => {\n                                        if (product.cart.id === item.cart.id) {\n                                            product.mount += 1;\n                                            return product;\n                                        }\n                                        else return product;\n                                    }))\n                                }}\n                            >+</button>\n                        </div>\n                        <i className=\"fa fa-trash delete_item\" aria-hidden=\"true\"\n                            onClick={() => {\n                                deleteProduct(item.cart.id);\n                            }}\n                        ></i>\n                    </div>    \n                ) : ''\n            }\n            {cartProduct.length === 0 ? 'Giỏ hàng của bạn đang trống' : ''}\n            <br />\n            {cartProduct.length !== 0 ?\n                <div>\n                    <h4>Tổng giá:</h4>\n                    <strong className=\"price__item\">\n                        {sumPrice}₫\n                    </strong>\n                    <br />\n                    <br />\n                    <button type=\"button\" name=\"\" id=\"\" className=\"btn btn-primary\">Thanh toán</button>\n                </div>\n            : ''\n            }\n        </div>\n    )\n})\n"]},"metadata":{},"sourceType":"module"}